
#profile {
  background:#ffffff;
  overflow:hidden;
  z-index:12;
}

.profile-outro {
  @include text-feature;
  text-align:center;
  color:$grey4;
  width:66%;
  margin:200px auto 200px;
  span{color:$grey2;}
}




/* ==========================================================================
   Profile Top
   ========================================================================== */
.profile-top-placeholder {
  width:100%;
  height:40px;
}
.profile-top {
  position:fixed;
  top:0;
  left:0;
  right:0;
  width:100%;
  height:40px;
  background:$grey2;
  color:#ffffff;
  z-index:99;
  text-align:center;
  @include text-paragraph;
  line-height:40px;
  strong {
    font-weight:200;
    color:$yellow;
  }
  .profile-top-back,.profile-top-what {
    @include text-smallcaps;
    font-size:12px;
    line-height:40px;
    height:40px;
    position:absolute;
    text-decoration:none;
    padding: 0 20px;
    top:0;
    background:#000000;
    color:$grey3;
    &:hover {
      color:#ffffff;
      background:$orange;
    }
  }
  .profile-top-back {
    left:0;
  }
  .profile-top-what {
    right:0;
  }
}

.profile-menu {
  z-index:9;
  position:absolute;
  left:20px;
  top:20px;
  width:44px;
  height:44px;
  color:white;
  a.icon-menu {
    @include prefix(transition,all .2s);
    display:block;
    border-radius:3px;
    width:44px;
    height:44px;
    background:#000000;
    text-align:center;
    line-height:44px;
    color:$grey3;
    cursor:pointer;
    &:hover{
      background:$orange;
      color:#ffffff;
    }
  }
  &.active{
    .profile-menu-sub {
      top:54px;
      opacity: 1;
      visibility: visible;
    }
  }
}
.profile-menu-sub {
  @include prefix(transition,all .3s);
  opacity:0;
  position:absolute;
  left:0;
  top:44px;
  border-radius:3px;
  visibility:hidden;
  background:$grey2;
  font-size:12px;
  width:240px;
  overflow:hidden;
  text-align:left;
}
.profile-menu-edit {
  .profile-menu-edit-picture,.profile-menu-edit-name,.profile-menu-edit-email,.profile-menu-edit-password,.profile-menu-edit-done,.profile-menu-edit-delete {
    padding: 10px 2px 12px 2px;
    // border-top:1px solid $grey1;  
  }
  label {
    @include text-smallcaps;
    margin:0 8px;
    display:block;
    color:$grey3;
    line-height:20px;
    font-size:11px;
  }
  input {
    @include text-paragraph;
    padding:0 10px;
    width:216px;
    outline:none;
    border:none;
    // border-radius:3px;
    background:$grey1;
    color:$grey4;
    height:44px;
    line-height:44px;
    &:-moz-placeholder, &::-moz-placeholder, &::-webkit-input-placeholder,&:-ms-input-placeholder {
      color:$grey2;
    }
  }
  a.button {
    background:$borange;
    text-decoration:none;
    text-align:center;
    display:block;
    padding: 10px 12px;
    margin:0 10px;
    line-height:24px;
    height:24px;
    &:hover{
      background:$borange-high;
    }
  }
  .profile-menu-edit-delete {
    text-align:center;
     a {
      @include text-paragraph;
      font-size:11px;
      color: $grey3;
      text-decoration:none;
    }
  }
}
.profile-menu-option {
  a {
    @include text-smallcaps;
    @include prefix(transition,all .2s);
    display:block;
    padding: 10px 12px;
    height:24px;
    color:#ffffff;
    color:$grey3;
    text-decoration:none;
    font-size:12px;
    line-height:24px;
    &:hover{
      background:$orange;
      color:#ffffff;
    }
    span.icon { 
      float:right;
      line-height:24px;
      font-size:11px;
      width: 14px;
      text-align: center;
    }
  }
}



/* ==========================================================================
   Profile Header
   ========================================================================== */


.profile-header {
  width:100%;
  background:$grey1;
  color:#ffffff;
  text-align:center;
  padding:40px 0;
}
  .profile-header-img {
    width:120px;
    height:120px;
    border-radius:60px;
  }
  .profile-header-title {
    @include text-h1;
      margin:1em 0 8px 0;
  }
  .profile-header-subtitle {
    @include text-subtitle;
    margin:0 0 1em 0;
    color: $grey3;
  }

/* ==========================================================================
   Profile Stats
   ========================================================================== */

.profile-stats {
  width:100%;
  overflow:hidden;
}
  .profile-stats-4 {
    position:relative;
    display:block;
    float:left;
    width:24.9%;
    height:180px;
    @media screen and (max-width: $break-md) {
      width:49.8%;height:120px;
      .profile-stats-img {margin:20px 0;}
      .profile-stats-num {margin:35px 0 0 0;}
    }
    @media screen and (max-width: $break-sm) {
      width:100%;height:140px;padding-top:10px;
    }
  }
    .profile-stats-img {
      position:relative;
      border-left:$grey4 1px solid;
      margin:50px 0;
      padding-left:10%;
      width:30%;
      float:left;
      height:80px;
    }
    .profile-stats-num {
      @include text-h1;
      margin:60px 0 0 0;
      color:$grey1;
      overflow-x:hidden;
      overflow-y:visible;
    }
    .profile-stats-cap {
      @include text-subtitle;
      margin:0;
      color:$grey4;
      font-size:12px;
      overflow-x:hidden;
      overflow-y:visible;
    }
.profile-stats-4.completion {
  .profile-stats-img{
    .bar {position:relative; overflow:hidden; margin-right:12px; height:80px; width:10px; float:right; background:lighten($green,40%);}
    .fillbar {
      position:absolute; 
      width:10px; 
      height:80px; 
      top:79px; 
      left:0; 
      background:$green; 
      @include transition(top .8s);
      &.start{top:80px !important;}
    }
  }
}
.profile-stats-4.total {
  .profile-stats-img {
    .columns{
      // @include prefix(column-gap,2px);
      // @include prefix(column-count,6);
      // line-height:12px;
      position:relative;
      margin-right:12px;
      height:80px;
    }
    .block{
      position:absolute;
      display: block;
      vertical-align: bottom;
      width:8px;
      height:8px;
      background:$blue; 
      float:right;
      @include prefix(transform-origin,left bottom);
      @include transition(all .8s); 
      &.start {
        bottom:0;
        opacity:.1;
      }
    }
  }
}

@for $i from 0 through 7 {
  .block:nth-child(#{$i+1}) {
    right:0;
    bottom:$i*10px;
  }
}
@for $i from 8 through 15 {
  .block:nth-child(#{$i+1}) {
    right:10px;
    bottom:($i - 8)*10px;
  }
}
@for $i from 16 through 23 {
  .block:nth-child(#{$i+1}) {
    right:20px;
    bottom:($i - 16)*10px;
  }
}
@for $i from 24 through 31 {
  .block:nth-child(#{$i+1}) {
    right:30px;
    bottom:($i - 24)*10px;
  }
}
@for $i from 32 through 39 {
  .block:nth-child(#{$i+1}) {
    right:40px;
    bottom:($i - 32)*10px;
  }
}

.profile-stats-4 {
  .triangle {
    position:absolute;
    width: 0px;
    height: 0px;
    border-style: solid;
    border-width: 12.5px 0 12.5px 15px;
    border-color: transparent transparent transparent $yellow;
    top:50%;
    margin-top:-12.5px;
    @include transition(right .8s);
    &.one {right:12px;}
    &.two {right:22px;}
    &.three {right:32px;}
    &.start {right:12px;}
  }
}
.profile-stats-4.beststreak .triangle {
  border-color: transparent transparent transparent $red;
}

/* ==========================================================================
   Profile Grid
   ========================================================================== */


$rowHeight: 180px;
$columnWidth: 25%;
.profile-grid {
  width:95%;
  padding-left:5%;
  // max-height:$rowHeight*2;
  /* Prevent vertical gaps */
  overflow:hidden;
  background:$grey1;
  @include transition(max-height 2s);
}
.profile-grid-menu {
  width:5%;
  background:$grey1;
}
  .profile-grid-stories {


    &::before {
      right:-1em;
      display: inline-block;
      height: 100%;
      content: '';
      vertical-align: middle;
    }

    &::after {
      @include transition(opacity .3s);
      @include text-iconfont;
      position:absolute;
      top:0;
      right:0;
      bottom:0;
      left:0;
      z-index:0;
      padding:10px;
      background-color:$yellow;
      color:$yellow-high;
      content: "";
      text-align:left;
      opacity:0;
      pointer-events:none;
    }


    &[data-public="true"] {
      &::after {
        content: "\75";
      }
    }
    &[data-public="false"] {
      &::after {
        content: "\6c";
      }
    }

    @include prefix(transform-style,preserve-3d);
    // @include prefix(transition,all .5s);
    @include prefix(transform-origin,50% 100%);
    @include gradient(#ffffff,mix(#ffffff,$grey4));
    position:relative;
    display:block;
    float:left;
    overflow:hidden;
    width:$columnWidth;
    height:$rowHeight;
    text-align:center;
    line-height:normal;
    color:$grey1;
    text-decoration:none;
    cursor:-webkit-zoom-in;
    cursor:-moz-zoom-in;
    cursor:zoom-in;

    &.alt-1{@include gradient($borange,mix($borange,$borange-shad,75%));color:#ffffff;}
    &.alt-2{@include gradient($grey4,mix($grey4,$grey3,95%))}
    &.alt-3{@include gradient(#ffffff,mix(#ffffff,$grey4))}
    &.alt-4{@include gradient($grey2,mix($grey2,$grey1,75%));color:#ffffff;}
    &.alt-5{@include gradient(mix($green,$green-high,75%),$green);color:#ffffff}

    &.large{height:$rowHeight*2;
      .profile-grid-stories-story {max-height:7em}
    }
    &.wide{width:$columnWidth*2;height:$rowHeight*2; 
      .profile-grid-stories-story {font-size:32px;}
    }
    &.img{color:#ffffff;@include gradient($grey2,mix($grey2,$grey1,75%));}

    &:hover:not(.no-hover) {
      .profile-grid-stories-story {color:$yellow-high;}
      .profile-grid-stories-date {opacity:1;top:50%;}
      &::after {
        opacity:.95;
      }
    }
    &.giant-clone{
    }



    @media screen and (max-width: $break-md) {
      width:50%;
      height:$rowHeight;
      &.wide,&.large{width:100%; height:$rowHeight*1.5} 
      .profile-grid-stories-story{font-size:24px}
    }
    @media screen and (max-width: $break-sm) {
      width:100%;
      height:$rowHeight;
      &.wide,&.large{
        height:$rowHeight;
        .profile-grid-stories-story{font-size:24px;}
      } 
      .profile-grid-stories-story{font-size:24px;}
        &:not(.story) {
          .profile-grid-stories-date {
            top:8px !important;
            left:0;
            width:100%;
            text-align:center;
            height:auto;
            margin:0;
            opacity:1;
            background:none;
            .profile-grid-stories-date-month{
              margin:0;
              font-size:13px;
              display:inline;
            }
            .profile-grid-stories-date-date{
              margin:0;
              font-size:13px;
              display:inline;
              color:inherit;
            }
          }
        }
    }
    @media screen and (min-width: $break-lg) {
      font-size:22px;
      width:20%;
      height:$rowHeight*1.5;
      &.wide,&.large{width:40%;height:$rowHeight*3;}
    }

  }
    .profile-grid-stories-img {
      @include prefix(transition,opacity .5s);
      position:absolute;
      left:-5px;
      top:-5px;
      right:-5px;
      bottom:-5px;
      z-index:0;
      &.loading{
        opacity:0;
      }
      img {
        @include accelerate;
        @include transition(all .5s);
        @include filter(blur(6px));
        // @include transform(scale(4.2));
        filter:(url(/img/blur.svg#blur));
        // height:100%;
        width:100%;
        // opacity:.7;
      }
    }
    .profile-grid-stories-story {
      @include transition(font-size .5s);
      @include text-feature;
      position:relative;
      z-index:2;
      display:inline-block;
      overflow:hidden;
      // max-height: 4.7em;
      width:80%;
      vertical-align: middle;
      text-align:center;
      text-overflow: ellipsis;
      font-size:24px;
    }
    .profile-grid-stories-date {
      position:absolute;
      z-index:2;
      display:block;
      width:100px;
      height:100px;
      background:url(/img/calendar.svg);
      left:50%;
      top:52%;
      margin:-50px 0 0 -50px;
      opacity:0;

      @include prefix(transition, top .3s);

    }
      .profile-grid-stories-date-month{
        @include text-smallcaps;
        color:$yellow;
        margin: 20px 0 0 0;
      }
      .profile-grid-stories-date-date{
        @include text-smallcaps;
        color:$grey3;
        margin:0;
        font-size:32px;
      }
.profile-grid-more {
  @include text-smallcaps;
  @include background-image-retina('/img/more-shadow',png,800px,50px);
  @include transition(all .3s);
  @include prefix(box-shadow, 0px -10px 10px rgba(0,0,0,.15));
  position:relative;
  display:block;
  z-index:2;
  margin:0 0 20px 0;
  width:100%;
  height:100px; 
  background-position:50% 75px;
  background-repeat:no-repeat;
  color:$grey1;
  text-align:center;
  line-height:80px;
  text-decoration:none;
  opacity:.5;
  &.less,&.disabled{
    @include prefix(box-shadow, 0px 0px 20px rgba(0,0,0,.10));
    background-image:none;
    height:81px;    
    cursor:default;
    &.fixed{
      position: fixed;
      bottom: 0px;
      margin-bottom:0;
      background: #ffffff;
      opacity: 1;
      @include transition(all 0s);
    }
    &:hover{
      color:$grey1;
      background-position:50% 80px;
      opacity:.5;
    }
  }
  &:hover{
    color:$yellow;
    background-position:50% 80px;
    opacity:1;
  }
}





@-webkit-keyframes OpenTop {
  25% { 
    margin-top:30px;
    -webkit-transform: rotateX(-20deg); 
    -webkit-animation-timing-function: ease; 
  }
}

@-moz-keyframes OpenTop {
  25% { 
    margin-top:30px;
    -moz-transform: rotateX(-20deg); 
    -moz-animation-timing-function: ease; 
  }
}

@keyframes OpenTop {
  25% { 
    margin-top:30px;
    transform: rotateX(-20deg); 
    animation-timing-function: ease; 
  }
}
